<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <meta name="renderer" content="webkit|ie-comp|ie-stand"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta http-equiv="Cache-Control" content="no-siteapp"/>
    <title>Shiro后台管理系统</title>
    <link rel="icon" th:href="@{/assets/ico/favicon.ico}"/>
    <link rel="stylesheet" th:href="@{/layui/css/layui.css}"/>
    <link rel="stylesheet" th:href="@{/assets/css/login.css}"/>

</head>
<style>
    .login {
        background-image: url("/assets/images/login_pic_0.jpg");
    }

    .layadmin-user-login-box {
        background-color: #fff;
        border: 1px solid #fff;
        border-radius: 3px;
        padding: 14px 20px;
        box-shadow: 0 0 8px #eeeeee;
    }

    .copyright-p {
        color: lightgray;
        font-size: initial;
    }

    a.copyright-a {
        color: lightgray;
        font-size: initial;
    }
</style>
<body class="login">
<div id="app">
    <div class="layadmin-user-login layadmin-user-display-show" id="LAY-user-login" style="display: none;">

        <div class="layadmin-user-login-main">
            <div class="layadmin-user-login-box layadmin-user-login-header">
                <h2>layuiAdmin</h2>
                <p>layui 官方出品的单页面后台管理模板系统</p>
            </div>
            <div class="layadmin-user-login-box layadmin-user-login-body layui-form">
                <div class="layui-form-item">
                    <label class="layadmin-user-login-icon layui-icon layui-icon-username"
                           for="LAY-user-login-username"></label>
                    <input type="text" v-model="username" name="username" id="LAY-user-login-username"
                           lay-verify="required"
                           placeholder="用户名"
                           class="layui-input">
                </div>
                <div class="layui-form-item">
                    <label class="layadmin-user-login-icon layui-icon layui-icon-password"
                           for="LAY-user-login-password"></label>
                    <input type="password" name="password" id="LAY-user-login-password" lay-verify="required"
                           placeholder="密码" class="layui-input">
                </div>
                <div class="layui-form-item">
                    <div class="layui-row">
                        <div class="layui-col-xs7">
                            <label class="layadmin-user-login-icon layui-icon layui-icon-vercode"
                                   for="LAY-user-login-vercode"></label>
                            <input type="text" name="vercode" v-model="captchaCode" id="LAY-user-login-vercode"
                                   lay-verify="required"
                                   placeholder="图形验证码" class="layui-input">
                        </div>
                        <div class="layui-col-xs5">
                            <div style="margin-left: 10px;">
                                <img src="/api/captcha/drawImage?createTypeFlag=n" class="layadmin-user-login-codeimg"
                                     id="LAY-user-get-vercode" @click="refreshCaptcha">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="layui-form-item" style="margin-bottom: 20px;">
                    <input type="checkbox" name="remember" lay-skin="primary" title="记住密码">
                    <a lay-href="/user/forget" class="layadmin-user-jump-change layadmin-link" style="margin-top: 7px;">忘记密码？</a>
                </div>
                <div class="layui-form-item">
                    <button class="layui-btn layui-btn-fluid" lay-submit lay-filter="LAY-user-login-submit">登 入</button>
                </div>
                <div class="layui-trans layui-form-item layadmin-user-login-other">
                    <a lay-href="/user/reg" class="layadmin-user-jump-change layadmin-link">注册帐号</a>
                </div>
            </div>
        </div>

        <div class="layui-trans layadmin-user-login-footer">
            <p class="copyright-p">© 2020 <a href="#" class="copyright-a">Geroge.Chan</a>. All Rights Reserved.</p>
            <p>
            <span><a href="https://github.com/GeorgeChan95/school-ms" target="_blank"
                     class="copyright-a">查看源码</a></span>
            </p>
        </div>
    </div>
</div>
<script type="text/javascript" th:src="@{/layui/layui.all.js}"></script>
<script type="text/javascript" th:src="@{/assets/js/core.util.js}"></script>
<script th:src="@{/vue/vue.js}"></script>
<script>
    var layer = layui.layer;
    var $ = jQuery = layui.jquery;
    $(function () {

    })
    new Vue({
        el: '#app',
        data: {
            captchaCode: "",
            username: "George1"
        },
        methods: {
            refreshCaptcha: function () {// 刷新验证码
                $("#LAY-user-get-vercode").attr("src", "/api/captcha/drawImage?createTypeFlag=n")
            }
        },
        // 侦听器侦听的是已经存在的属性
        watch: {
            captchaCode: function (val) {
                if (val.length == 4) {
                    console.log("当前验证码===》 " + val)
                }
            }
        },
        computed: {// 计算属性
            // reverseString: function () {
            //     console.log('执行了计算属性');
            //     this.captchaCode = this.username.split('').reverse().join('');
            //     return this.captchaCode;
            // }
        },
    })
</script>
</body>


</html>